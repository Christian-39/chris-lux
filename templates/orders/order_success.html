{% extends 'base.html' %} {% load static %}{% load humanize %}
<!-- prettier-ignore -->
{% block title %}Order Confirmed - {{ SITE_NAME }}{% endblock %} {% block content %}

<section class="section-padding">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <div class="success-icon mb-4">
          <i class="bi bi-check-circle-fill text-success"></i>
        </div>

        <h1 class="mb-3">Order Confirmed!</h1>
        <p class="lead text-muted mb-4">
          Thank you for your order. We've sent a confirmation email to
          <strong>{{ order.email }}</strong>
        </p>

        <div class="order-details-card">
          <div class="order-number">
            <span class="label">Order Number:</span>
            <span class="value">{{ order.order_number }}</span>
          </div>

          <div class="order-info mt-4">
            <div class="row text-start">
              <div class="col-md-6">
                <h5>Order Details</h5>
                <p>
                  <strong>Date:</strong> {{ order.created_at|date:"F d, Y" }}
                </p>
                <p><strong>Total:</strong> ₦{{ order.total }}</p>
                <p>
                  <strong>Payment:</strong> {{ order.get_payment_status_display
                  }}
                </p>
              </div>
              <div class="col-md-6">
                <h5>Shipping Address</h5>
                <p>
                  {{ order.full_name }}<br />
                  {{ order.address }}<br />
                  {{ order.city }}, {{ order.state }}<br />
                  {{ order.country }}
                </p>
              </div>
            </div>
          </div>

          <div class="order-items mt-4 text-start">
            <h5>Items Ordered</h5>
            {% for item in order.items.all %}
            <div class="order-item-row">
              <div class="d-flex justify-content-between">
                <span>{{ item.product_name }} x{{ item.quantity }}</span>
                <span>₦{{ item.subtotal|intcomma }}</span>
              </div>
            </div>
            {% endfor %}
            <div class="order-total mt-3 pt-3 border-top">
              <div class="d-flex justify-content-between">
                <strong>Total</strong>
                <strong>₦{{ order.total|intcomma}}</strong>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-5">
          <p class="text-muted">
            We'll send you an email with tracking information once your order
            ships.
          </p>
          <div class="d-flex gap-3 justify-content-center mt-4">
            <a href="{% url 'shop' %}" class="btn btn-outline"
              >Continue Shopping</a
            >
            <a href="{% url 'order_history' %}" class="btn btn-gold"
              >View Order History</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %} {% block extra_css %}
<style>
  .success-icon {
    font-size: 5rem;
  }

  .order-details-card {
    background-color: var(--color-gray-100);
    padding: 2.5rem;
    margin-top: 2rem;
  }

  .order-number {
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--color-gray-300);
  }

  .order-number .label {
    color: var(--color-gray-500);
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    display: block;
    margin-bottom: 0.5rem;
  }

  .order-number .value {
    font-family: var(--font-serif);
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--color-gold);
  }

  .order-info h5 {
    font-family: var(--font-serif);
    font-size: 1.125rem;
    margin-bottom: 1rem;
  }

  .order-item-row {
    padding: 0.5rem 0;
  }

  .order-total {
    font-family: var(--font-serif);
    font-size: 1.25rem;
  }
</style>
{% endblock %}
